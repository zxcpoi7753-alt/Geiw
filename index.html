<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø«Ø±ÙŠØ§ - ØºÙŠÙ„ Ø¨Ø§ÙˆØ²ÙŠØ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #047857;       /* Ø£Ø®Ø¶Ø± Ø²Ù…Ø±Ø¯ÙŠ */
            --primary-dark: #064e3b;
            --accent: #fbbf24;        /* Ø£ØµÙØ± Ø°Ù‡Ø¨ÙŠ */
            --bg-body: #f3f4f6;       /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ */
            --bg-card: #ffffff;
            --text-main: #1f2937;
            --text-sec: #4b5563;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
        body.dark-mode {
            --primary: #10b981;
            --primary-dark: #047857;
            --bg-body: #111827;       /* ÙƒØ­Ù„ÙŠ ØºØ§Ù…Ù‚ */
            --bg-card: #1f2937;
            --text-main: #f9fafb;
            --text-sec: #9ca3af;
            --border: #374151;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        
        body {
            margin: 0;
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            transition: background-color 0.3s, color 0.3s;
            padding-bottom: 80px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ù„ÙÙˆØªØ± */
            overflow-x: hidden;
        }

        /* Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø²Ø®Ø±ÙÙŠØ© */
        .fixed-bg {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 80%; height: 60%; 
            background: url('1768411699920.png') no-repeat center center;
            background-size: contain; opacity: 0.05; z-index: -1; pointer-events: none;
        }

        /* Ø§Ù„ØªØ±ÙˆÙŠØ³Ø© */
        header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: white;
            padding: 20px 15px 60px 15px; /* Ù…Ø³Ø§Ø­Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© */
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            position: relative;
            text-align: center;
            box-shadow: 0 4px 20px rgba(4, 120, 87, 0.2);
        }

        .video-box {
            position: absolute; top: 15px; left: 15px;
            width: 45px; height: 45px;
            border: 2px solid var(--accent);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .video-box video { width: 100%; height: 100%; object-fit: cover; }

        .theme-btn {
            position: absolute; top: 15px; right: 15px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.3);
            color: white; padding: 6px 12px; border-radius: 20px;
            font-size: 0.85rem; cursor: pointer;
        }

        header h1 { margin: 10px 0 5px 0; font-family: 'Amiri', serif; font-size: 1.8rem; letter-spacing: 1px; }
        header p { margin: 0; font-size: 0.9rem; opacity: 0.9; }

        .verse-ticker {
            margin-top: 15px; font-family: 'Amiri', serif; color: var(--accent);
            font-size: 1.1rem; min-height: 30px; font-weight: bold;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© */
        .nav-wrapper {
            margin-top: -35px; /* Ù„Ø³Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‡ÙŠØ¯Ø± */
            padding: 0 15px;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 10px; /* Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø³ÙƒØ±ÙˆÙ„ Ø¨Ø§Ø± */
            text-align: center;
        }
        
        .nav-wrapper::-webkit-scrollbar { display: none; }

        .nav-btn {
            display: inline-block;
            background: var(--bg-card);
            color: var(--text-sec);
            border: 1px solid var(--border);
            padding: 10px 20px;
            margin: 0 4px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: 0.3s;
        }

        .nav-btn.active {
            background: var(--accent);
            color: #000;
            border-color: var(--accent);
            transform: scale(1.05);
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .container { max-width: 800px; margin: 20px auto; padding: 0 15px; }
        
        /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© */
        .page-section { display: none; animation: slideUp 0.4s ease-out; }
        .page-section.active { display: block; }

        @keyframes slideUp { 
            from { opacity: 0; transform: translateY(20px); } 
            to { opacity: 1; transform: translateY(0); } 
        }

        .section-title {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 15px;
            display: flex; align-items: center; gap: 8px;
            font-size: 1.2rem;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø®Ø§ØµØ© */
        .question-card { border-right: 5px solid var(--accent); }
        .holiday-card { border-right: 5px solid #ef4444; }
        
        .winner-box {
            background: rgba(251, 191, 36, 0.15);
            padding: 10px; border-radius: 8px;
            margin-top: 10px; font-size: 0.9rem;
            border: 1px dashed var(--accent);
        }

        /* Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª ÙˆØ§Ù„Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ† */
        .accordion-btn {
            width: 100%; text-align: right;
            padding: 16px; background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px; margin-bottom: 10px;
            font-weight: bold; color: var(--text-main);
            display: flex; justify-content: space-between;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.03);
        }
        .accordion-btn.active-acc {
            background: var(--primary); color: white; border-color: var(--primary);
        }
        
        .accordion-panel {
            max-height: 0; overflow: hidden; transition: max-height 0.4s ease;
            background: var(--bg-card); border-radius: 12px;
            margin-top: -8px; margin-bottom: 15px;
            border: 1px solid var(--border); border-top: none;
        }
        .panel-content { padding: 20px; }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø³Ø§Ø¨ */
        .btn-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 10px; margin-top: 10px; }
        .calc-btn {
            background: var(--bg-body); border: 2px solid var(--border);
            padding: 12px; border-radius: 10px; font-weight: bold;
            color: var(--text-main); cursor: pointer;
        }
        .calc-btn:hover { border-color: var(--primary); color: var(--primary); }

        .main-btn {
            width: 100%; background: var(--primary); color: white;
            padding: 14px; border-radius: 12px; border: none;
            font-weight: bold; font-size: 1rem; margin-top: 15px; cursor: pointer;
        }
        
        .result-box {
            display: none; margin-top: 15px; padding: 15px;
            background: rgba(251, 191, 36, 0.1); border: 2px solid var(--accent);
            border-radius: 12px; text-align: center;
        }

        /* Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
        select, input {
            width: 100%; padding: 12px; border-radius: 10px;
            border: 1px solid var(--border); background: var(--bg-body);
            color: var(--text-main); margin-bottom: 10px; font-family: inherit;
        }

        /* Ø§Ù„ØªÙˆØ§ØµÙ„ */
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .contact-box {
            padding: 15px; border-radius: 12px; color: white;
            text-align: center; text-decoration: none; font-weight: bold;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .whatsapp { background: #25D366; }
        .instagram { background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .phone { background: #3b82f6; }
        .map { background: #ef4444; }

        footer { text-align: center; font-size: 0.8rem; color: var(--text-sec); margin-top: 30px; opacity: 0.7; }

    </style>
</head>
<body>

    <div class="fixed-bg"></div>

    <header>
        <button class="theme-btn" id="theme-btn">ğŸŒ™</button>
        <div class="video-box">
            <video autoplay muted loop playsinline>
                <source src="1768472913710.mp4" type="video/mp4">
            </video>
        </div>
        
        <h1>Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø«Ø±ÙŠØ§</h1>
        <p>Ù„ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - ØºÙŠÙ„ Ø¨Ø§ÙˆØ²ÙŠØ±</p>
        <div id="verse-ticker" class="verse-ticker"></div>
    </header>

    <div class="nav-wrapper" id="nav-container">
        </div>

    <div class="container">

        <section id="section-home" class="page-section active">
            <h2 class="section-title">ğŸ“¢ Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
            <div id="news-list"></div>

            <h2 class="section-title">â“ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</h2>
            <div class="card question-card">
                <p style="font-size:1.1rem; font-weight:bold;">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ ØªØ³Ù…Ù‰ "Ø³Ù†Ø§Ù… Ø§Ù„Ù‚Ø±Ø¢Ù†"ØŸ</p>
                <div class="winner-box">
                    ğŸ† Ø§Ù„ÙØ§Ø¦Ø² Ø§Ù„Ø³Ø§Ø¨Ù‚: <span style="color:var(--primary); font-weight:bold;">Ø¹Ù…Ø± Ø¨Ù† Ø¹Ù„ÙŠ Ø¨Ø§ÙˆØ²ÙŠØ±</span>
                </div>
            </div>
        </section>

        <section id="section-student" class="page-section">
            <h2 class="section-title">ğŸ“– Ø±ÙƒÙ† Ø§Ù„Ø·Ø§Ù„Ø¨</h2>
            
            <button class="accordion-btn">ğŸš€ Ù…ØªÙ‰ Ø£Ø®ØªÙ…ØŸ (Ø­Ø³Ø¨ Ø¬Ù‡Ø¯ÙŠ)</button>
            <div class="accordion-panel">
                <div class="panel-content">
                    <div id="step1">
                        <p>ÙƒÙ… ÙŠÙˆÙ…Ø§Ù‹ Ø³ØªØ­ÙØ¸ ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ØŸ</p>
                        <div class="btn-grid" id="days-options"></div>
                    </div>
                    <div id="step2" style="display:none;">
                        <p>ÙƒÙ… Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„Ø­ÙØ¸ Ø§Ù„ÙŠÙˆÙ…ÙŠØŸ</p>
                        <div class="btn-grid" id="amount-options"></div>
                    </div>
                    <div id="result-effort" class="result-box"></div>
                    <button id="reset-effort" class="main-btn" style="background:transparent; color:var(--text-sec); border:1px dashed #ccc; display:none" onclick="resetEffort()">ğŸ”„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
                </div>
            </div>

            <button class="accordion-btn">ğŸ“… Ø®Ø·Ø· Ù„ÙŠ (Ø­Ø³Ø¨ Ø§Ù„ÙˆÙ‚Øª)</button>
            <div class="accordion-panel">
                <div class="panel-content">
                    <p>Ø£Ø±ÙŠØ¯ Ø§Ù„Ø®ØªÙ… Ø®Ù„Ø§Ù„:</p>
                    <div style="display:flex; gap:10px;">
                        <select id="t-days"></select>
                        <select id="t-months"></select>
                        <select id="t-years"></select>
                    </div>
                    <p>ØªØ®Ø·ÙŠ Ø£Ø¬Ø²Ø§Ø¡ Ø³Ø§Ø¨Ù‚Ø©:</p>
                    <select id="skipped-parts"><option value="0">0 Ø¬Ø²Ø¡ (Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©)</option></select>
                    
                    <button class="main-btn" onclick="calcTime()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø®Ø·Ø©</button>
                    <div id="result-time" class="result-box"></div>
                </div>
            </div>
        </section>

        <section id="section-quiz" class="page-section">
            <h2 class="section-title">ğŸ§  Ø§Ø®ØªØ¨Ø± Ø­ÙØ¸Ùƒ</h2>
            <div class="card">
                <select id="quiz-juz"></select>
                <select id="quiz-type" style="margin-top:10px;">
                    <option value="complete">Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¢ÙŠØ©</option>
                    <option value="surah">Ø§Ø³Ù… Ø§Ù„Ø³ÙˆØ±Ø©</option>
                </select>
                <button class="main-btn" onclick="startQuiz()">Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            </div>
            <div id="quiz-area" class="card" style="display:none; border-right:4px solid var(--accent);">
                <p id="q-text" style="font-size:1.2rem; line-height:1.8; font-family:'Amiri';"></p>
                <button id="show-ans" class="nav-btn" style="font-size:0.8rem" onclick="showAns()">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
                <div id="ans-box" style="display:none; margin-top:10px; color:var(--primary); font-weight:bold;"></div>
            </div>
        </section>

        <section id="section-ranks" class="page-section">
            <h2 class="section-title">ğŸ† Ù„ÙˆØ­Ø© Ø§Ù„Ø´Ø±Ù</h2>
            <div id="ranks-grid"></div>
        </section>

        <section id="section-schedule" class="page-section">
            <h2 class="section-title">ğŸ“… Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„</h2>
            <div class="card">
                <h4>â˜€ï¸ Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø¹ØµØ±</h4>
                <div id="btns-asr" class="btn-grid"></div>
            </div>
            <div class="card">
                <h4>ğŸŒ™ Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ù…ØºØ±Ø¨</h4>
                <div id="btns-maghrib" class="btn-grid"></div>
            </div>
            <div id="sched-display"></div>
            <div class="card holiday-card">
                <h3>ğŸ–ï¸ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª</h3>
                <ul style="padding-right:20px;">
                    <li>Ø§Ù„Ø¬Ù…Ø¹Ø© (Ø¥Ø¬Ø§Ø²Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©)</li>
                    <li>Ø§Ù„Ø£Ø¹ÙŠØ§Ø¯ Ø§Ù„Ø±Ø³Ù…ÙŠØ©</li>
                    <li>Ø£Ø³Ø¨ÙˆØ¹ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</li>
                </ul>
            </div>
        </section>

        <section id="section-teachers" class="page-section">
            <h2 class="section-title">ğŸ‘¨â€ğŸ« Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³</h2>
            <div id="teachers-grid"></div>
        </section>

        <section id="section-about" class="page-section">
            <h2 class="section-title">ğŸ•Œ Ù…Ù† Ù†Ø­Ù†</h2>
            <div class="card" style="text-align:center; background: linear-gradient(to bottom, var(--bg-card), var(--bg-body));">
                <p>ØµØ±Ø­ÙŒ Ù‚Ø±Ø¢Ù†ÙŠ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø£ØµØ§Ù„Ø© Ø§Ù„ØªØ­ÙÙŠØ¸ ÙˆØ±ÙˆØ­ Ø§Ù„ØªØ±Ø¨ÙŠØ©</p>
                <h2 style="color:var(--primary); font-family:'Amiri';">ï´¾ ÙˆÙØ±ÙØªÙÙ‘Ù„Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ØªÙØ±Ù’ØªÙÙŠÙ„Ù‹Ø§ ï´¿</h2>
            </div>
            <div class="contact-grid">
                <a href="https://wa.me/967777006546" class="contact-box whatsapp">ÙˆØ§ØªØ³Ø§Ø¨</a>
                <a href="#" class="contact-box instagram">Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…</a>
                <a href="tel:777006546" class="contact-box phone">Ø§ØªØµØ§Ù„</a>
                <a href="#" class="contact-box map">Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>
            </div>
        </section>

        <section id="section-mobile" class="page-section">
            <h2 class="section-title">ğŸ“± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h2>
            <div class="card" style="text-align:center;">
                <p>Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø¹Ù„Ù‰ Ù…ØªØ§Ø¬Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª..</p>
            </div>
        </section>

    </div>

    <footer>Â© 2026 Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø«Ø±ÙŠØ§</footer>

    <script>
        // === 1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ===
        const data = {
            nav: [
                {id:'home', txt:'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©'}, {id:'student', txt:'Ø§Ù„Ø·Ø§Ù„Ø¨'}, {id:'quiz', txt:'Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª'},
                {id:'ranks', txt:'Ø§Ù„Ø£ÙˆØ§Ø¦Ù„'}, {id:'schedule', txt:'Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„'}, {id:'teachers', txt:'Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ†'},
                {id:'about', txt:'Ù…Ù† Ù†Ø­Ù†'}, {id:'mobile', txt:'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚'}
            ],
            news: [
                {t:"ØªÙƒØ±ÙŠÙ… Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ†", d:"15-1", w:["Ø³Ø¹ÙŠØ¯ Ø£Ø­Ù…Ø¯", "Ù…Ø­Ù…Ø¯ ÙØ¤Ø§Ø¯"]},
                {t:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙŠÙÙŠ", d:"12-1", w:[]}
            ],
            ranks: [
                {n:"Ø­Ù„Ù‚Ø© Ø¹Ù…Ø±", s:["Ø®Ø§Ù„Ø¯ Ø£Ø­Ù…Ø¯", "ÙŠØ§Ø³ÙŠÙ† Ø¹Ù…Ø±"]},
                {n:"Ø­Ù„Ù‚Ø© Ø£Ø¨ÙŠ Ø¨ÙƒØ±", s:["Ø³Ø¹Ø¯ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠ"]},
                {n:"Ø­Ù„Ù‚Ø© Ø¹Ø«Ù…Ø§Ù†", s:["Ø¨Ø¯Ø± Ù†Ø§ØµØ±", "Ø±ÙŠØ§Ù† ÙŠÙˆØ³Ù"]}
            ],
            teachers: [
                {n:"Ø§Ù„Ø´ÙŠØ® Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡", j:"Ø§Ù„Ù…Ø´Ø±Ù Ø§Ù„Ø¹Ø§Ù…"}, {n:"Ø£. Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯", j:"Ù…Ø¹Ù„Ù… Ø­Ù„Ù‚Ø© Ø£Ø¨ÙŠ Ø¨ÙƒØ±"}
            ],
            schedule: {
                asr: [{n:"Ø­Ù„Ù‚Ø© Ø¹Ù…Ø±", t:"4:00 - 5:00", d:"Ø§Ù„Ø³Ø¨Øª - Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡"}],
                maghrib: [{n:"Ø­Ù„Ù‚Ø© Ø£Ø¨ÙŠ Ø¨ÙƒØ±", t:"Ø§Ù„Ù…ØºØ±Ø¨ - Ø§Ù„Ø¹Ø´Ø§Ø¡", d:"ÙŠÙˆÙ…ÙŠØ§Ù‹"}]
            }
        };

        // === 2. Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆØ§Ù„ØªÙ‡ÙŠØ¦Ø© ===
        document.addEventListener('DOMContentLoaded', () => {
            initTheme();
            renderNav();
            renderContent();
            setupAccordions();
            setupCalcs();
            setupQuiz();
            startVerseTicker();
        });

        function initTheme() {
            const btn = document.getElementById('theme-btn');
            btn.onclick = () => {
                document.body.classList.toggle('dark-mode');
                btn.innerText = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
            };
        }

        // === 3. Ø§Ù„ØªÙ†Ù‚Ù„ (SPA) ===
        function renderNav() {
            const c = document.getElementById('nav-container');
            data.nav.forEach((item, i) => {
                const b = document.createElement('button');
                b.className = `nav-btn ${i===0?'active':''}`;
                b.innerText = item.txt;
                b.onclick = () => switchPage(item.id, b);
                c.appendChild(b);
            });
        }

        function switchPage(id, btn) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.getElementById(`section-${id}`).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            window.scrollTo({top:0, behavior:'smooth'});
        }

        // === 4. Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ===
        function renderContent() {
            // Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
            const nc = document.getElementById('news-list');
            data.news.forEach(n => {
                const div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `<small style="color:var(--text-sec)">ğŸ“… ${n.d}</small><br><strong>${n.t}</strong>`;
                if(n.w.length) {
                    div.style.borderRight = "4px solid var(--accent)";
                    div.onclick = () => alert("Ø§Ù„ÙØ§Ø¦Ø²ÙˆÙ†: " + n.w.join('ØŒ '));
                }
                nc.appendChild(div);
            });

            // Ø§Ù„Ø£ÙˆØ§Ø¦Ù„
            const rc = document.getElementById('ranks-grid');
            data.ranks.forEach(r => {
                rc.innerHTML += `<div class="card" style="border-right:4px solid var(--primary)"><h3>${r.n}</h3><ul>${r.s.map(x=>`<li>${x}</li>`).join('')}</ul></div>`;
            });

            // Ø§Ù„Ù…Ø¹Ù„Ù…ÙˆÙ†
            const tc = document.getElementById('teachers-grid');
            data.teachers.forEach(t => {
                tc.innerHTML += `<div class="card"><strong>${t.n}</strong><br><small>${t.j}</small></div>`;
            });

            // Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
            const btnCreator = (list, id) => {
                const con = document.getElementById(id);
                list.forEach(item => {
                    const b = document.createElement('button');
                    b.className = 'calc-btn'; b.innerText = item.n;
                    b.onclick = () => {
                        document.getElementById('sched-display').innerHTML = `<div class="card" style="background:#e6fffa; border:1px solid var(--primary)"><strong>${item.n}</strong><br>${item.d}<br>${item.t}</div>`;
                    };
                    con.appendChild(b);
                });
            };
            btnCreator(data.schedule.asr, 'btns-asr');
            btnCreator(data.schedule.maghrib, 'btns-maghrib');
        }

        // === 5. Ø§Ù„Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ† ÙˆØ§Ù„Ø­Ø§Ø³Ø¨Ø§Øª ===
        function setupAccordions() {
            const acc = document.getElementsByClassName("accordion-btn");
            for (let i = 0; i < acc.length; i++) {
                acc[i].addEventListener("click", function() {
                    this.classList.toggle("active-acc");
                    const panel = this.nextElementSibling;
                    if (panel.style.maxHeight) panel.style.maxHeight = null;
                    else panel.style.maxHeight = panel.scrollHeight + "px";
                });
            }
        }

        // Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¬Ù‡Ø¯
        let selectedDays = 0;
        function setupCalcs() {
            const dc = document.getElementById('days-options');
            [1,2,3,4,5,6,7].forEach(d => {
                const b = document.createElement('button');
                b.className = 'calc-btn'; b.innerText = d + " Ø£ÙŠØ§Ù…";
                b.onclick = () => {
                    selectedDays = d;
                    document.getElementById('step1').style.display='none';
                    document.getElementById('step2').style.display='grid';
                };
                dc.appendChild(b);
            });

            const ac = document.getElementById('amount-options');
            [{l:"ÙˆØ¬Ù‡", v:1}, {l:"ÙˆØ¬Ù‡ÙŠÙ†", v:2}, {l:"Ù†ØµÙ ÙˆØ¬Ù‡", v:0.5}].forEach(a => {
                const b = document.createElement('button');
                b.className = 'calc-btn'; b.innerText = a.l;
                b.onclick = () => showResultEffort(a.v);
                ac.appendChild(b);
            });

            // ØªØ¹Ø¨Ø¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„ÙˆÙ‚Øª
            const fill = (id, max, t) => {
                const s = document.getElementById(id);
                s.innerHTML = `<option value="0">0 ${t}</option>`;
                for(let i=1; i<=max; i++) s.innerHTML += `<option value="${i}">${i} ${t}</option>`;
            };
            fill('t-days', 30, 'ÙŠÙˆÙ…'); fill('t-months', 12, 'Ø´Ù‡Ø±'); fill('t-years', 5, 'Ø³Ù†Ø©');
            
            const sk = document.getElementById('skipped-parts');
            for(let i=1; i<30; i++) sk.innerHTML += `<option value="${i}">${i} Ø¬Ø²Ø¡</option>`;
        }

        function showResultEffort(amount) {
            const total = 604;
            const weekly = selectedDays * amount;
            const totalDays = (total / weekly) * 7;
            const y = Math.floor(totalDays/365);
            const m = Math.floor((totalDays%365)/30);
            const d = Math.floor((totalDays%365)%30);
            
            const res = document.getElementById('result-effort');
            res.style.display = 'block';
            res.innerHTML = `<strong>ØªØ®ØªÙ… Ø®Ù„Ø§Ù„:</strong><br>${y>0?y+' Ø³Ù†Ø© Ùˆ ':''}${m} Ø´Ù‡Ø± Ùˆ ${d} ÙŠÙˆÙ…`;
            document.getElementById('step2').style.display='none';
            document.getElementById('reset-effort').style.display='block';
        }

        function resetEffort() {
            selectedDays=0;
            document.getElementById('step1').style.display='block';
            document.getElementById('result-effort').style.display='none';
            document.getElementById('reset-effort').style.display='none';
        }

        function calcTime() {
            const d = parseInt(document.getElementById('t-days').value);
            const m = parseInt(document.getElementById('t-months').value);
            const y = parseInt(document.getElementById('t-years').value);
            const skip = parseInt(document.getElementById('skipped-parts').value);
            
            const totalDays = d + (m*30) + (y*365);
            if(totalDays===0) return alert('Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯Ø©!');
            
            const pages = (30 - skip) * 20;
            const daily = pages / totalDays;
            
            const r = document.getElementById('result-time');
            r.style.display = 'block';
            r.innerHTML = `Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: <span style="color:var(--primary); font-size:1.2rem; font-weight:bold;">${daily<1 ? Math.ceil(daily*15)+' Ø£Ø³Ø·Ø±' : Math.ceil(daily)+' ØµÙØ­Ø§Øª'}</span> ÙŠÙˆÙ…ÙŠØ§Ù‹`;
        }

        // === 6. Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª ===
        const quizDB = [
            {q:"Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù", a:"Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", s:"Ø§Ù„ÙØ§ØªØ­Ø©"},
            {q:"Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙØ­ÙØ¯ÙŒ", a:"Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„ØµÙ‘ÙÙ…ÙØ¯Ù", s:"Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"}
        ];
        let currQ = {};

        function setupQuiz() {
            const j = document.getElementById('quiz-juz');
            for(let i=1; i<=30; i++) j.innerHTML += `<option value="${i}">Ø§Ù„Ø¬Ø²Ø¡ ${i}</option>`;
        }

        function startQuiz() {
            const r = quizDB[Math.floor(Math.random()*quizDB.length)];
            currQ = r;
            const type = document.getElementById('quiz-type').value;
            
            document.getElementById('quiz-area').style.display='block';
            document.getElementById('ans-box').style.display='none';
            document.getElementById('q-text').innerText = type==='complete' ? `Ø£ÙƒÙ…Ù„: ${r.q}` : `ÙÙŠ Ø£ÙŠ Ø³ÙˆØ±Ø©: ${r.q}`;
        }

        function showAns() {
            const type = document.getElementById('quiz-type').value;
            const ans = document.getElementById('ans-box');
            ans.style.display = 'block';
            ans.innerText = type==='complete' ? currQ.a : currQ.s;
        }

        // Ø´Ø±ÙŠØ· Ø§Ù„Ø¢ÙŠØ§Øª
        function startVerseTicker() {
            const v = ["ÙˆÙØ±ÙØªÙ‘ÙÙ„Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ØªÙØ±Ù’ØªÙÙŠÙ„Ù‹Ø§", "Ø¥ÙÙ†Ù‘Ù Ù‡ÙÙ°Ø°ÙØ§ Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ÙŠÙÙ‡Ù’Ø¯ÙÙŠ Ù„ÙÙ„Ù‘ÙØªÙÙŠ Ù‡ÙÙŠÙ Ø£ÙÙ‚Ù’ÙˆÙÙ…Ù"];
            const el = document.getElementById('verse-ticker');
            let i = 0;
            setInterval(() => {
                el.style.opacity = 0;
                setTimeout(() => { el.innerText = v[i]; el.style.opacity=1; i=(i+1)%v.length; }, 500);
            }, 4000);
            el.innerText = v[0];
        }
    </script>
</body>
</html>
